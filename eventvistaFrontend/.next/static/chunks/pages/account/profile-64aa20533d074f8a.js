(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{5845:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/profile",function(){return l(8190)}])},8190:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return C}});var i=l(5893),s=l(568),n=l(9015),r=l(7294),c=l(8711),o=l(7271),d=l(4790),t=l(9473),m=l(7128),h=l(2213),u=l(2175),x=l(4640),j=l(524),v=l(6308),p=l(1587);let g=()=>{let e=(0,r.useRef)(null),{user:a,guest_id:l}=(0,t.v9)(e=>e.auth),s=(0,t.I0)(),[g,f]=(0,r.useState)("profile"),{mutate:N,isLoading:b}=(0,o.kx)(),y=a=>{let l=new FormData;l.append("avatar",a.target.files?a.target.files[0]:""),N(l,{onSuccess(a){null!=a&&1==a.flag&&((0,d.PK)(a.message,"success"),s((0,m.J2)(a.avatar)),e.current.value="")}})},{mutate:w,isLoading:Z}=(0,o.IL)(),{profileSchema:C}=(0,p.Z)(),{handleChange:k,handleSubmit:_,handleBlur:P,errors:S,values:E,touched:A,dirty:F,setFieldValue:L}=(0,u.TA)({initialValues:{name:null==a?void 0:a.name,email:null==a?void 0:a.email,phone:null==a?void 0:a.phone,gender:null==a?void 0:a.gender,city:null==a?void 0:a.city},validationSchema:C,onSubmit:(e,l)=>{let{resetForm:i}=l;(null==a?void 0:a.phone)==e.phone&&delete e.phone,w(e,{onSuccess(e){null!=e&&(null==e?void 0:e.flag)==1&&((0,d.PK)(e.message,"success"),s((0,m.jb)(e.user)),i({values:{name:e.user.name,email:e.user.email,phone:e.user.phone,gender:e.user.gender,city:e.user.city}}))}})}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"container-fluid pb-100 pt-100",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row mb-3 gap-5 d-flex justify-content-center",children:(0,i.jsx)("div",{className:"col-lg-7 ",children:"profile"==g&&(0,i.jsx)("div",{className:"row user-profile box-shad ",style:{paddingTop:"35px"},children:(0,i.jsx)("div",{className:"col-md-12 ",children:(0,i.jsxs)("div",{className:"container ",children:[(0,i.jsx)("div",{className:"row ",style:{marginBottom:"40px"},children:(0,i.jsx)("div",{className:"col-md-12 ",children:(0,i.jsx)("label",{className:"upload-profile",htmlFor:"ProfileImage",children:(0,i.jsxs)("div",{className:"edit-profile-username-and-image-maindiv ",children:[(0,i.jsx)("div",{className:"profile-image-div",style:{minHeight:100},children:b?(0,i.jsx)(j.Z,{}):(0,i.jsx)("div",{className:"image-div",children:(0,i.jsx)("img",{src:(null==a?void 0:a.avatar)?(0,h.xR)(null==a?void 0:a.avatar):"https://ui-avatars.com/api/?name=".concat(null==a?void 0:a.name,"&color=fff&background=bae9ba&size=528"),className:"user-profile-image",alt:""})})}),(0,i.jsx)("div",{className:"name-image-upload-div",children:(0,i.jsxs)("div",{className:"username-profile-name",children:[(0,i.jsx)("h3",{className:"sum-head text-custom-primary",children:"Upload Profile Pictuire"}),(0,i.jsx)("input",{style:{display:"none"},type:"file",ref:e,onChange:y,id:"ProfileImage"})]})})]})})})}),(0,i.jsx)("form",{onSubmit:_,children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsx)("div",{className:"checkbox-form",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)(c.Z,{col:"col-md-12",required:!1,id:"name",disabled:!1,label:"Name",value:E.name,onChange:k,placeholder:"Name"}),A.name&&(0,i.jsx)(x.Z,{error:S.name}),(0,i.jsx)(c.Z,{col:"col-md-12",required:!1,id:"email",disabled:!0,label:"Email",value:E.email,onChange:k,placeholder:"Email Address"}),A.email&&(0,i.jsx)(x.Z,{error:S.email}),(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsxs)("div",{className:"checkout-form-list p-relative",children:[(0,i.jsx)("div",{className:"d-flex justify-content-between",children:(0,i.jsx)("label",{children:"Mobile Number"})}),(0,i.jsx)(v.ZP,{className:"form-control",international:!0,defaultCountry:"AE",id:"phone",value:E.phone,onChange:e=>L("phone",e)})]})}),A.phone&&(0,i.jsx)(x.Z,{error:S.phone}),(0,i.jsxs)("div",{className:"checkout-form-list",children:[(0,i.jsx)("label",{htmlFor:"gender",className:"loginEmailLabel",children:"Gender"}),(0,i.jsxs)("select",{onChange:k,value:E.gender,onBlur:P,id:"gender",children:[(0,i.jsx)("option",{className:"light",value:"",children:"Select"}),(0,i.jsx)("option",{value:"male",children:"male"}),(0,i.jsx)("option",{value:"female",children:"female"}),(0,i.jsx)("option",{value:"other",children:"other"})]}),A.gender&&(0,i.jsx)(x.Z,{error:S.gender})]}),(0,i.jsxs)("div",{className:"checkout-form-list",children:[(0,i.jsx)("label",{htmlFor:"city",className:"loginEmailLabel",children:"City"}),(0,i.jsxs)("select",{value:E.city,onChange:k,onBlur:P,id:"city",children:[(0,i.jsx)("option",{className:"light",value:"",children:"Select"}),(0,i.jsx)("option",{value:"abu-dhabi",children:"Abu Dhabi"}),(0,i.jsx)("option",{value:"dubai",children:"Dubai"}),(0,i.jsx)("option",{value:"sharjah",children:"Sharjah"}),(0,i.jsx)("option",{value:"ajman",children:"Ajman"}),(0,i.jsx)("option",{value:"um-al-quwain",children:"Umm Al-Quwain"}),(0,i.jsx)("option",{value:"fujairah",children:"Fujairah"}),(0,i.jsx)("option",{value:"ras-al-khaimah",children:"Ras Al Khaimah"})]}),A.city&&(0,i.jsx)(x.Z,{error:S.city})]}),(0,i.jsx)(c.Z,{col:"col-md-12",required:!1,name:"phone",disabled:!1,value:"",onChange:()=>{},label:"Password",label_btn:(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("a",{onClick:()=>f("password"),children:[" ",(0,i.jsx)("strong",{children:"change"})]})}),placeholder:"**************"}),(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsx)("div",{className:"checkout-form-list create-acc",children:F&&(0,i.jsx)(n.z,{class:"btn btn edit-address-save-change-btn text-white",spinnerClass:"text-light",type:"submit",Loader:Z,Text:"Save Changes"})})})]})})})})})]})})})})})})})})};var f=l(7642),N=l(3982);let b=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{}),(0,i.jsx)(N.Z,{title:"Account Setting"}),(0,i.jsx)(g,{}),(0,i.jsx)(f.Z,{})]});var y=l(3191),w=l(2883);let Z=()=>(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(y.Z,{pageTitle:"Profile"}),(0,i.jsx)(b,{})]});var C=Z;Z.authenticate=!0}},function(e){e.O(0,[664,733,308,568,84,774,888,179],function(){return e(e.s=5845)}),_N_E=e.O()}]);